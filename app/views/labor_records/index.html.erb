<p id="notice"><%= notice %></p>

<h1>Labor Records</h1>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Employee</th>
      <th>Labor date</th>
      <th>Hours</th>
      <th>Total before</th>
      <th>Total after</th>
      <th>Supervisor</th>
      <th>Job JCE</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @labor_records.each do |labor_record| %>
      <tr>
        <td><%= labor_record.employee.employee_name %></td>
        <td><%= labor_record.labor_date.strftime("%a, %d %b %Y") %></td>
        <td><%= labor_record.hours %></td>
        <td><%= number_to_currency(labor_record.total_before, unit: "R") %></td>
        <td><%= number_to_currency(labor_record.total_after, unit: "R") %></td>
        <% if labor_record.supervisor.nil? %>
          <td></td>
        <% else %>
        <td><%= labor_record.supervisor.supervisor_name %></td>
        <% end %>
        <td><%= labor_record.job.jce_number %></td>
        <td><%= link_to 'Show', labor_record %></td>
        <td><%= link_to 'Edit', edit_labor_record_path(labor_record) %></td>
        <td><%= link_to 'Destroy', labor_record, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= will_paginate @labor_records, renderer: WillPaginate::ActionView::Bootstrap4LinkRenderer %>

<br>

<%= link_to 'New Labor Record', new_labor_record_path %>
